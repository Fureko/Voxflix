<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VoxFlix - Streaming</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --neon-cyan: #00d9ff;
            --neon-blue: #0066ff;
            --bg-dark: #0a0e1a;
            --bg-card: #1a1f2e;
            --text-primary: #ffffff;
            --text-secondary: #a0aec0;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: var(--bg-dark);
            color: var(--text-primary);
            overflow-x: hidden;
        }

        /* Header */
        header {
            background: rgba(26, 31, 46, 0.8);
            backdrop-filter: blur(10px);
            border-bottom: 1px solid rgba(0, 217, 255, 0.2);
            padding: 1rem 2rem;
            position: sticky;
            top: 0;
            z-index: 1000;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .header-left {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        h1 {
            font-size: 2rem;
            font-weight: bold;
            background: linear-gradient(135deg, var(--neon-cyan), var(--neon-blue));
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .btn {
            padding: 0.75rem 1.5rem;
            border: none;
            border-radius: 0.5rem;
            cursor: pointer;
            font-size: 1rem;
            font-weight: 600;
            transition: all 0.3s;
        }

        .btn-back {
            background: rgba(0, 217, 255, 0.2);
            color: var(--text-primary);
        }

        .btn-back:hover {
            background: rgba(0, 217, 255, 0.3);
        }

        .btn-lang {
            background: rgba(0, 217, 255, 0.2);
            color: var(--neon-cyan);
            min-width: 80px;
        }

        .btn-lang:hover {
            background: rgba(0, 217, 255, 0.3);
        }

        /* Container */
        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 2rem;
        }

        .page-title {
            font-size: 2rem;
            margin-bottom: 2rem;
        }

        /* Grid layouts */
        .grid-series {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
            gap: 2rem;
        }

        .grid-seasons {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1.5rem;
        }

        .grid-episodes {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 1rem;
        }

        /* Cards */
        .card-serie {
            position: relative;
            height: 300px;
            border-radius: 1rem;
            overflow: hidden;
            cursor: pointer;
            transition: transform 0.3s;
        }

        .card-serie:hover {
            transform: scale(1.05);
        }

        .card-serie img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .card-overlay {
            position: absolute;
            inset: 0;
            background: linear-gradient(to top, rgba(0,0,0,0.9), rgba(0,0,0,0.3));
            display: flex;
            align-items: flex-end;
            padding: 2rem;
        }

        .card-title {
            font-size: 2rem;
            font-weight: bold;
        }

        .card-season {
            position: relative;
            height: 200px;
            border-radius: 1rem;
            overflow: hidden;
            cursor: pointer;
            border: 2px solid rgba(0, 217, 255, 0.2);
            transition: all 0.3s;
        }

        .card-season:hover {
            border-color: rgba(0, 217, 255, 0.6);
            transform: scale(1.05);
        }

        .card-episode {
            background: var(--bg-card);
            border-radius: 0.75rem;
            overflow: hidden;
            cursor: pointer;
            transition: all 0.3s;
        }

        .card-episode:hover {
            box-shadow: 0 0 0 2px var(--neon-cyan);
        }

        .episode-thumb {
            height: 150px;
            background: linear-gradient(135deg, rgba(0, 217, 255, 0.2), rgba(0, 102, 255, 0.2));
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            overflow: hidden;
        }

        .episode-thumb video {
            position: absolute;
            width: 100%;
            height: 100%;
            object-fit: cover;
            opacity: 0.6;
        }

        .episode-thumb-overlay {
            position: absolute;
            inset: 0;
            background: rgba(0, 0, 0, 0.3);
            z-index: 1;
        }

        .play-icon {
            width: 60px;
            height: 60px;
            color: var(--neon-cyan);
            transition: transform 0.3s;
            position: relative;
            z-index: 2;
            filter: drop-shadow(0 0 10px rgba(0, 217, 255, 0.5));
        }

        .card-episode:hover .play-icon {
            transform: scale(1.2);
        }

        .episode-number {
            position: absolute;
            top: 0.5rem;
            left: 0.5rem;
            background: rgba(0, 0, 0, 0.7);
            padding: 0.25rem 0.5rem;
            border-radius: 0.25rem;
            font-size: 0.875rem;
            font-weight: bold;
            z-index: 2;
        }

        .episode-info {
            padding: 1rem;
        }

        .episode-title {
            font-weight: 600;
            margin-bottom: 0.5rem;
        }

        .episode-langs {
            display: flex;
            gap: 0.5rem;
        }

        .lang-badge {
            padding: 0.25rem 0.5rem;
            border-radius: 0.25rem;
            font-size: 0.75rem;
            font-weight: 600;
        }

        .lang-vf {
            background: rgba(0, 217, 255, 0.2);
            color: var(--neon-cyan);
        }

        .lang-vostfr {
            background: rgba(0, 102, 255, 0.2);
            color: var(--neon-blue);
        }

        /* Loader */
        .loader-container {
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .loader {
            width: 50px;
            height: 50px;
            border: 4px solid rgba(0, 217, 255, 0.2);
            border-top-color: var(--neon-cyan);
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* Player */
        .player-container {
            position: fixed;
            inset: 0;
            background: #000;
            z-index: 2000;
            display: flex;
            flex-direction: column;
        }

        video {
            flex: 1;
            width: 100%;
            height: 100%;
            object-fit: contain;
        }

        .exit-player-btn {
            position: absolute;
            top: 1.5rem;
            left: 1.5rem;
            z-index: 100;
            background: rgba(0, 0, 0, 0.8);
            border: 2px solid rgba(0, 217, 255, 0.5);
            color: white;
            padding: 0.75rem 1.5rem;
            border-radius: 0.5rem;
            cursor: pointer;
            font-size: 1rem;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            transition: all 0.3s;
        }

        .exit-player-btn:hover {
            background: rgba(0, 217, 255, 0.2);
            border-color: var(--neon-cyan);
        }

        .player-controls {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            background: linear-gradient(to top, rgba(0,0,0,0.9), transparent);
            padding: 2rem;
        }

        .timeline {
            width: 100%;
            height: 8px;
            background: rgba(255, 255, 255, 0.3);
            border-radius: 4px;
            cursor: pointer;
            margin-bottom: 1rem;
            position: relative;
        }

        .timeline-progress {
            height: 100%;
            background: var(--neon-cyan);
            border-radius: 4px;
            position: relative;
        }

        .timeline-handle {
            position: absolute;
            right: 0;
            top: 50%;
            transform: translate(50%, -50%);
            width: 16px;
            height: 16px;
            background: var(--neon-cyan);
            border-radius: 50%;
            opacity: 0;
            transition: opacity 0.3s;
        }

        .timeline:hover .timeline-handle {
            opacity: 1;
        }

        .controls-row {
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .controls-left, .controls-right {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .control-btn {
            background: transparent;
            border: none;
            color: white;
            cursor: pointer;
            padding: 0.5rem;
            border-radius: 50%;
            transition: background 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .control-btn:hover {
            background: rgba(255, 255, 255, 0.1);
        }

        .control-btn svg {
            width: 24px;
            height: 24px;
        }

        .volume-slider {
            width: 0;
            opacity: 0;
            transition: all 0.3s;
        }

        .volume-container:hover .volume-slider {
            width: 80px;
            opacity: 1;
        }

        .time-display {
            font-size: 0.875rem;
            color: var(--text-secondary);
        }

        .episode-meta {
            margin-top: 1rem;
            font-size: 0.875rem;
            opacity: 0.8;
        }

        .next-episode-overlay {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: rgba(0, 0, 0, 0.9);
            backdrop-filter: blur(10px);
            padding: 2rem;
            border-radius: 1rem;
            border: 1px solid rgba(0, 217, 255, 0.3);
            text-align: center;
        }

        .lang-selector-overlay {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: rgba(0, 0, 0, 0.95);
            backdrop-filter: blur(10px);
            padding: 2rem;
            border-radius: 1rem;
            border: 1px solid rgba(0, 217, 255, 0.3);
            min-width: 350px;
            z-index: 150;
        }

        .lang-option {
            padding: 1rem;
            margin: 0.5rem 0;
            background: rgba(0, 217, 255, 0.1);
            border: 2px solid rgba(0, 217, 255, 0.3);
            border-radius: 0.5rem;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .lang-option:hover:not(.disabled) {
            background: rgba(0, 217, 255, 0.2);
            border-color: var(--neon-cyan);
        }

        .lang-option.active {
            background: rgba(0, 217, 255, 0.3);
            border-color: var(--neon-cyan);
        }

        .lang-option.disabled {
            opacity: 0.3;
            cursor: not-allowed;
        }

        .btn-next {
            background: var(--neon-cyan);
            color: #000;
            padding: 1rem 2rem;
            margin-top: 1rem;
        }

        .btn-next:hover {
            background: var(--neon-blue);
        }

        input[type="range"] {
            -webkit-appearance: none;
            appearance: none;
            background: rgba(255, 255, 255, 0.3);
            height: 4px;
            border-radius: 2px;
            outline: none;
        }

        input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 12px;
            height: 12px;
            background: var(--neon-cyan);
            border-radius: 50%;
            cursor: pointer;
        }

        input[type="range"]::-moz-range-thumb {
            width: 12px;
            height: 12px;
            background: var(--neon-cyan);
            border-radius: 50%;
            cursor: pointer;
            border: none;
        }

        .hidden {
            display: none !important;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .grid-series, .grid-seasons {
                grid-template-columns: 1fr;
            }
            
            .grid-episodes {
                grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            }
            
            h1 {
                font-size: 1.5rem;
            }
            
            .container {
                padding: 1rem;
            }
            
            .lang-selector-overlay {
                min-width: 90%;
            }
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header>
        <div class="header-left">
            <button id="backBtn" class="btn btn-back hidden">← Retour</button>
            <h1>VoxFlix</h1>
        </div>
        <div>
            <button id="langBtn" class="btn btn-lang hidden">VF</button>
            <button id="homeBtn" class="btn btn-back" title="Accueil">
                <svg viewBox="0 0 24 24" fill="currentColor" style="width: 20px; height: 20px;">
                    <path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/>
                </svg>
            </button>
        </div>
    </header>

    <!-- Main Content -->
    <div id="app">
        <div class="loader-container">
            <div class="loader"></div>
        </div>
    </div>

    <!-- Video Player -->
    <div id="playerContainer" class="player-container hidden">
        <!-- Exit Button -->
        <button id="exitPlayerBtn" class="exit-player-btn">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="width: 20px; height: 20px;">
                <path d="M19 12H5M12 19l-7-7 7-7"/>
            </svg>
            Quitter le lecteur
        </button>

        <video id="videoPlayer"></video>
        
        <div class="player-controls">
            <div class="timeline" id="timeline">
                <div class="timeline-progress" id="timelineProgress">
                    <div class="timeline-handle"></div>
                </div>
            </div>
            <div class="controls-row">
                <div class="controls-left">
                    <button class="control-btn" id="playPauseBtn">
                        <svg id="playIcon" viewBox="0 0 24 24" fill="currentColor">
                            <path d="M8 5v14l11-7z"/>
                        </svg>
                        <svg id="pauseIcon" class="hidden" viewBox="0 0 24 24" fill="currentColor">
                            <path d="M6 4h4v16H6V4zm8 0h4v16h-4V4z"/>
                        </svg>
                    </button>
                    <div class="volume-container" style="display: flex; align-items: center; gap: 0.5rem;">
                        <button class="control-btn" id="muteBtn">
                            <svg id="volumeIcon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M11 5L6 9H2v6h4l5 4V5zM15.54 8.46a5 5 0 010 7.07M19.07 4.93a10 10 0 010 14.14"/>
                            </svg>
                            <svg id="mutedIcon" class="hidden" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M11 5L6 9H2v6h4l5 4V5zM23 9l-6 6M17 9l6 6"/>
                            </svg>
                        </button>
                        <input type="range" class="volume-slider" id="volumeSlider" min="0" max="1" step="0.1" value="1">
                    </div>
                    <span class="time-display" id="timeDisplay">0:00 / 0:00</span>
                </div>
                <div class="controls-right">
                    <button class="control-btn" id="langSelectorBtn" title="Changer la langue" style="display: none;">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <circle cx="12" cy="12" r="10"/>
                            <path d="M2 12h20M12 2a15.3 15.3 0 014 10 15.3 15.3 0 01-4 10 15.3 15.3 0 01-4-10 15.3 15.3 0 014-10z"/>
                        </svg>
                    </button>
                    <a id="downloadBtn" class="control-btn" href="image.png" download title="Télécharger">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M21 15v4a2 2 0 01-2 2H5a2 2 0 01-2-2v-4M7 10l5 5 5-5M12 15V3"/>
                        </svg>
                    </a>
                    <button class="control-btn" id="fullscreenBtn">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M8 3H5a2 2 0 00-2 2v3m18 0V5a2 2 0 00-2-2h-3m0 18h3a2 2 0 002-2v-3M3 16v3a2 2 0 002 2h3"/>
                        </svg>
                    </button>
                </div>
            </div>
            <div class="episode-meta" id="episodeMeta"></div>
        </div>
        
        <!-- Next Episode Overlay -->
        <div id="nextEpisodeOverlay" class="next-episode-overlay hidden">
            <p style="font-size: 1.5rem; margin-bottom: 1rem;">Épisode terminé</p>
            <button class="btn btn-next" id="nextEpisodeBtn">Épisode suivant</button>
        </div>
        
        <!-- Language Selector Overlay -->
        <div id="langSelectorOverlay" class="lang-selector-overlay hidden">
            <h3 style="margin-bottom: 1.5rem; font-size: 1.5rem;">Sélectionner la langue</h3>
            <div id="langOptions"></div>
            <button class="btn btn-back" id="closeLangBtn" style="margin-top: 1rem; width: 100%;">Annuler</button>
        </div>
    </div>

    <script>
// ============= DONNÉES =============
const videos = {
    hazbin: {
        name: "Hazbin Hotel",
        saisons: {
            1: {
                background: 'https://images2.alphacoders.com/134/1348359.jpeg',
                logo: 'https://i.imgur.com/8Q9X8Mm.png',
                episodes: {
                    1: { title: "Histoire De L'Enfer", VF: 'https://cold8.gofile.io/download/direct/f813c55e-facf-4e74-b291-bad048721f64/Hazbin%20Hotel%20S01e01%20Histoire%20De%20L%E2%80%99Enfer.mp4', VOSTFR: 'https://cold2.gofile.io/download/direct/1e24501c-0f30-4925-8a7f-713020f8af63/%5BVOSTFR%5DHazbin%20Hotel%20S01e01%20Histoire%20De%20L%E2%80%99Enfer.mp4' },
                    2: { title: "Radio Contre Vidéo", VF: 'https://cold-na-phx-2.gofile.io/download/direct/68c3dbb5-3405-4163-91c9-3311dbc4366a/Hazbin%20Hotel%20S01e02%20Radio%20Contre%20Vid%C3%A9o.mp4', VOSTFR: 'https://cold8.gofile.io/download/direct/175be20b-b002-42cd-b7b1-4afc27d0ac45/%5BVOSTFR%5DHazbin%20Hotel%20S01e02%20Radio%20Contre%20Vid%C3%A9o.mp4' },
                    3: { title: "Oeufs Brouillés", VF: 'https://cold8.gofile.io/download/direct/321efd47-526d-46eb-a0af-7227c609697b/Hazbin%20Hotel%20S01e03%20Oeufs%20Brouill%C3%A9s.mp4', VOSTFR: 'https://cold-na-phx-1.gofile.io/download/direct/9c175380-7011-41e5-8bcf-2778b985b67d/%5BVOSTFR%5DHazbin%20Hotel%20S01e03%20Oeufs%20Brouill%C3%A9s.mp4' },
                    4: { title: "Mascarade", VF: 'https://cold4.gofile.io/download/direct/6187b010-4c33-4938-91ee-11eb68e2a288/Hazbin%20Hotel%20S01e04%20Mascarade.mp4', VOSTFR: 'https://cold-na-phx-1.gofile.io/download/direct/74bce63b-9c1b-4a6d-8230-ee572424333f/%5BVOSTFR%5DHazbin%20Hotel%20S01e04%20Mascarade.mp4' },
                    5: { title: "Lucifer Entre En Scène", VF: 'https://cold2.gofile.io/download/direct/2ec7cfd9-29f4-4752-bd15-a5035c79ed03/Hazbin%20Hotel%20S01e05%20Lucifer%20Entre%20En%20Sc%C3%A8ne.mp4', VOSTFR: 'https://cold-na-phx-1.gofile.io/download/direct/73583f43-07c8-4b97-8253-4055ba618655/%5BVOSTFR%5DHazbin%20Hotel%20S01e05%20Lucifer%20entre%20en%20sc%C3%A8ne.mp4' },
                    6: { title: "Sur Les Chemins De La Rédemption", VF: 'https://cold8.gofile.io/download/direct/b5d92f58-b8b4-48ec-9287-00a71453b43d/Hazbin%20Hotel%20S01e06%20Sur%20Les%20Chemins%20De%20La%20R%C3%A9demption.mp4', VOSTFR: 'https://cold4.gofile.io/download/direct/8fccfa23-01d5-4de7-b367-16a79431319a/%5BVOSTFR%5DHazbin%20Hotel%20S01e06%20Sur%20Les%20Chemins%20De%20La%20R%C3%A9demption.mp4' },
                    7: { title: "Hello Rosie!", VF: 'https://cold8.gofile.io/download/direct/0580c875-640b-4c6a-9201-8987f383b31b/Hazbin%20Hotel%20S01e07%20Hello%20Rosie!.mp4', VOSTFR: 'https://cold-na-phx-2.gofile.io/download/direct/02262a23-1f55-407c-884d-ea419d8134e3/%5BVOSTFR%5DHazbin%20Hotel%20S01e07%20Hello%20Rosie!.mp4' },
                    8: { title: "Le Grand Final", VF: 'https://cold-na-phx-2.gofile.io/download/direct/4ff992e8-7d8d-4775-b762-b3d7f8e1a2a4/Hazbin%20Hotel%20S01e08%20Le%20grand%20final.mp4', VOSTFR: 'https://cold8.gofile.io/download/direct/483a7d0f-71e6-4f25-9dea-fdfd861035c4/%5BVOSTFR%5DHazbin%20Hotel%20S01e08%20Le%20Grand%20Final.mp4' }
                }
            },
            2: {
                background: 'https://images6.alphacoders.com/128/1285870.jpg',
                logo: 'https://i.imgur.com/8Q9X8Mm.png',
                episodes: {
                    1: { title: "Pentious au Paradis", VF: 'https://cold2.gofile.io/download/direct/d6b94c60-903d-4bb2-8dd1-31188b7b57b2/S02E001_Pentious%20au%20Paradis.mp4', VOSTFR: 'https://store1.gofile.io/download/direct/fbaa37e6-5207-4dbf-8cd5-b6e60ee45ec6/S02E001_Pentious%20au%20Paradis.mp4' },
                    2: { title: "L'histoire de Pentious", VF: 'https://store5.gofile.io/download/direct/d29f6629-b713-4da6-a1a6-e78671ede900/S02E002_Lhistoire%20de%20Pentious.mp4', VOSTFR: 'https://store-eu-par-6.gofile.io/download/direct/033fdea1-68d0-405a-88d6-6a2512bf3b38/S02E002_Lhistoire%20de%20Pentious.mp4' },
                    3: { title: "L'envers du décor", VF: 'https://store5.gofile.io/download/direct/5f56ba4d-925e-4802-9d26-a365117c39e2/%5BVF%5D%20S02E003_Lenvers%20du%20d%C3%A9cor.mp4', VOSTFR: 'https://store-eu-par-6.gofile.io/download/direct/4c787aba-11a2-474c-9d96-a9a5f7f7f342/%5BVOSTFR%5D%20S02E003_Lenvers%20du%20d%C3%A9cor.mp4' },
                    4: { title: "Marché conclu", VF: 'https://store10.gofile.io/download/direct/d32a157e-1d5e-436b-9fbd-aceec4b876e1/%5BVF%5D%20S02E004_March%C3%A9%20conclu.mp4', VOSTFR: 'https://store-eu-par-6.gofile.io/download/direct/88317e28-835f-4078-ba4c-20c1955a76fd/%5BVOSTFR%5D%20S02E004_March%C3%A9%20conclu.mp4' },
                    5: { title: "Réduite au Silence", VF: 'https://store1.gofile.io/download/direct/887f6b52-b255-40a9-8d7b-0d5216222ad3/Hazbin%20Hotel_S02E05_R%C3%A9duite%20au%20silence.mp4', VOSTFR: 'https://store5.gofile.io/download/direct/47943cd0-a512-47c6-a344-50e94830fc6e/Hazbin%20Hotel_S02E05_R%C3%A9duite%20au%20silence.mp4' },
                    6: { title: "Pluie hurlante", VF: 'https://store5.gofile.io/download/direct/f4090ab9-3eb5-4087-8145-ed6bab18e4cd/Hazbin%20Hotel_S02E06_Pluie%20hurlante.mp4', VOSTFR: 'https://store4.gofile.io/download/direct/3ba1769d-9afc-4b49-8a41-5ba291055a7f/Hazbin%20Hotel_S02E06_Pluie%20Hurlante.mp4' },
                    7: { title: "Arme De Destruction Massive", VF: 'https://store2.gofile.io/download/direct/5eff1f55-7988-441d-beff-460aa3f46b01/Hazbin%20Hotel_S02E07_Weapon%20of%20Mass%20Distraction%20VF.mp4', VOSTFR: 'https://store10.gofile.io/download/direct/a242db0b-3b78-4197-ad90-538dcae0ebd1/Hazbin%20Hotel_S02E07_Weapon%20of%20Mass%20Distraction%20VOTSFR.mp4' },
                    8: { title: "Rappel", VF: 'https://store10.gofile.io/download/direct/5ca263e1-def1-4065-8ba5-5fd7602a0bd0/S02E008_Rappel%20VF.mp4', VOSTFR: 'https://store-eu-par-2.gofile.io/download/direct/5539c571-6b62-4d66-809a-0e1c6d5569eb/S02E008_Rappel%20VOSTFR.mp4' }
                }
            }
        }
    },
    helluva: {
        name: "Helluva Boss",
        saisons: {
            0: {
                background: 'https://images5.alphacoders.com/124/1246054.jpg',
                logo: 'https://i.imgur.com/9yXq8Mm.png',
                episodes: { 1: { title: "Mission Zéro", VF: 'https://store-eu-par-1.gofile.io/download/direct/9999bcf7-ccf6-4c61-990d-d8e914f809db/clean_S01E001_MISSION%20Z%C3%89RO.mp4' } }
            },
            1: {
                background: 'https://images5.alphacoders.com/124/1246054.jpg',
                logo: 'https://i.imgur.com/9yXq8Mm.png',
                episodes: {
                    1: { title: "Une famille sanguinaire", VF: 'https://store5.gofile.io/download/direct/fd0e9d3c-7b6c-42a7-8544-7df3a7606454/new_S02E001_Une%20famille%20sanguinaire.mp4' },
                    2: { title: "Loo Loo Land", VF: 'https://store-eu-par-3.gofile.io/download/direct/46b43239-6d3b-4b1b-8815-d353837c0145/new_S02E002_Loo%20Loo%20Land.mp4' },
                    3: { title: "Duel de démons", VF: 'https://store5.gofile.io/download/direct/3afd5734-2d02-4369-9d09-b41efeece3bf/new_S02E003_Duel%20de%20d%C3%A9mons.mp4' },
                    4: { title: "CHERUB", VF: 'https://store-eu-par-3.gofile.io/download/direct/b74d6870-6d2d-4300-bbad-f1c642554637/new_S02E004_CHERUB.mp4' },
                    5: { title: "Le Festival de la Lune des Moissons", VF: 'https://store5.gofile.io/download/direct/b6be085b-3b81-41ce-9212-734b4a3f7aff/new_S02E005_Le%20Festival%20de%20la%20Lune%20des%20Moissons.mp4' },
                    6: { title: "Chasseurs de démons", VF: 'https://store-eu-par-3.gofile.io/download/direct/bbfa7f44-8764-4ee0-9ca6-c726f5438aa2/new_S02E006_Chasseurs%20de%20d%C3%A9mons.mp4' },
                    7: { title: "Chez Ozzie", VF: 'https://store5.gofile.io/download/direct/e5ff00cf-0610-4c5d-bde1-f7ee4adfa2a5/new_S02E007_Chez%20Ozzie.mp4' },
                    8: { title: "Queen Bee", VF: 'https://store5.gofile.io/download/direct/2ce4739e-57e0-49d9-a9db-b3d278c01b77/new_S02E008_Queen%20Bee.mp4' }
                }
            },
            2: {
                background: 'https://images5.alphacoders.com/124/1246054.jpg',
                logo: 'https://i.imgur.com/9yXq8Mm.png',
                episodes: {
                    1: { title: "Le Cirque", VF: 'https://store5.gofile.io/download/direct/14f78d0e-1964-473c-b244-432850ca0312/new_S03E001_Le%20Cirque.mp4' },
                    2: { title: "Sous les étoiles", VF: 'https://store5.gofile.io/download/direct/db857323-2848-4483-97d4-96009aaa654f/new_S03E002_Sous%20les%20%C3%A9toiles.mp4' },
                    3: { title: "Un ex pour deux", VF: 'https://store5.gofile.io/download/direct/9e6b8d9b-7879-43f2-a15f-577b3f45f0a6/new_S03E003_Un%20ex%20pour%20deux.mp4' },
                    4: { title: "Un air de western", VF: 'https://store5.gofile.io/download/direct/b18cfe0f-b61a-4455-87a8-ec54ff38b162/new_S03E004_Un%20air%20de%20western.mp4' },
                    5: { title: "Un Camp d'Enfer", VF: 'https://store5.gofile.io/download/direct/0220c704-d945-462a-bcb0-fc7f9f0566ab/new_S03E005_Un%20Camp%20dEnfer.mp4' },
                    6: { title: "Oups", VF: 'https://store5.gofile.io/download/direct/ced549b2-5da0-4758-a8a7-d48ac1eaa783/new_S03E006_Oups.mp4' },
                    7: { title: "Ça c'est du spectacle", VF: 'https://store-eu-par-3.gofile.io/download/direct/e80ed01b-3de7-4daa-bf59-634e831019b4/new_S03E007_%C3%87a%20cest%20du%20spectacle.mp4' },
                    8: { title: "La Pleine lune", VF: 'https://store5.gofile.io/download/direct/7420a991-a45d-4984-bbea-076a69a08074/new_S03E008_La%20Pleine%20lune.mp4' },
                    9: { title: "La tournée des excuses", VF: 'https://store5.gofile.io/download/direct/1c0aee47-e69f-48d3-9a6a-fe9fa44e9a8c/new_S03E009_La%20tourn%C3%A9e%20des%20excuses.mp4' },
                    10: { title: "Baise O S Fantômes", VF: 'https://store5.gofile.io/download/direct/ecdaaaca-2ae8-4432-9424-06e98b605e9f/new_S03E010_Baise%20O%20S%20Fant%C3%B4mes.mp4' },
                    11: { title: "Le grand maître", VF: 'https://store5.gofile.io/download/direct/13eca112-eaf3-439f-885d-1c16f42bd62e/new_S03E011_Le%20grand%20ma%C3%AEtre.mp4' },
                    12: { title: "La fête des Péchés", VF: 'https://store5.gofile.io/download/direct/423a0ac5-176b-4c5f-98c7-94c666b82700/new_S03E012_La%20f%C3%AAte%20des%20P%C3%A9ch%C3%A9s.mp4' }
                }
            }
        }
    }
};

// ============= STATE =============
let currentView = 'series';
let currentSerie = null;
let currentSeason = null;
let currentEpisode = null;
let currentLanguage = localStorage.getItem('voxflix_lang') || 'VF';
let data = null;

// ============= DOM ELEMENTS =============
const app = document.getElementById('app');
const backBtn = document.getElementById('backBtn');
const langBtn = document.getElementById('langBtn');
const homeBtn = document.getElementById('homeBtn');
const playerContainer = document.getElementById('playerContainer');
const video = document.getElementById('videoPlayer');
const playPauseBtn = document.getElementById('playPauseBtn');
const playIcon = document.getElementById('playIcon');
const pauseIcon = document.getElementById('pauseIcon');
const muteBtn = document.getElementById('muteBtn');
const volumeIcon = document.getElementById('volumeIcon');
const mutedIcon = document.getElementById('mutedIcon');
const volumeSlider = document.getElementById('volumeSlider');
const timeline = document.getElementById('timeline');
const timelineProgress = document.getElementById('timelineProgress');
const timeDisplay = document.getElementById('timeDisplay');
const fullscreenBtn = document.getElementById('fullscreenBtn');
const downloadBtn = document.getElementById('downloadBtn');
const episodeMeta = document.getElementById('episodeMeta');
const nextEpisodeOverlay = document.getElementById('nextEpisodeOverlay');
const nextEpisodeBtn = document.getElementById('nextEpisodeBtn');
const exitPlayerBtn = document.getElementById('exitPlayerBtn');
const langSelectorBtn = document.getElementById('langSelectorBtn');
const langSelectorOverlay = document.getElementById('langSelectorOverlay');
const langOptions = document.getElementById('langOptions');
const closeLangBtn = document.getElementById('closeLangBtn');

// ============= INITIALIZATION =============
function init() {
    // Charger les données
    setTimeout(() => {
        data = videos;
        renderView();
    }, 500);
    
    // Event listeners
    backBtn.addEventListener('click', goBack);
    homeBtn.addEventListener('click', goHome);
    langBtn.addEventListener('click', toggleLanguage);
    playPauseBtn.addEventListener('click', togglePlay);
    muteBtn.addEventListener('click', toggleMute);
    volumeSlider.addEventListener('input', handleVolumeChange);
    timeline.addEventListener('click', handleSeek);
    fullscreenBtn.addEventListener('click', toggleFullscreen);
    nextEpisodeBtn.addEventListener('click', playNextEpisode);
    exitPlayerBtn.addEventListener('click', exitPlayer);
    langSelectorBtn.addEventListener('click', openLangSelector);
    closeLangBtn.addEventListener('click', closeLangSelector);
    
    video.addEventListener('click', togglePlay);
    video.addEventListener('timeupdate', updateTimeline);
    video.addEventListener('loadedmetadata', updateDuration);
    video.addEventListener('ended', handleVideoEnd);
    video.addEventListener('play', () => updatePlayButton(true));
    video.addEventListener('pause', () => updatePlayButton(false));
    
    // Keyboard controls
    document.addEventListener('keydown', handleKeyboard);
}

// ============= NAVIGATION =============
function renderView() {
    if (currentView === 'series') renderSeries();
    else if (currentView === 'seasons') renderSeasons();
    else if (currentView === 'episodes') renderEpisodes();
    else if (currentView === 'player') showPlayer();
    
    updateNavButtons();
}

function renderSeries() {
    app.innerHTML = `
        <div class="container">
            <h2 class="page-title">Séries disponibles</h2>
            <div class="grid-series">
                ${Object.entries(data).map(([key, serie]) => `
                    <div class="card-serie" onclick="selectSerie('${key}')">
                        <img src="${Object.values(serie.saisons)[0].background}" alt="${serie.name}">
                        <div class="card-overlay">
                            <h3 class="card-title">${serie.name}</h3>
                        </div>
                    </div>
                `).join('')}
            </div>
        </div>
    `;
}

function renderSeasons() {
    const serie = data[currentSerie];
    app.innerHTML = `
        <div class="container">
            <h2 class="page-title">${serie.name}</h2>
            <div class="grid-seasons">
                ${Object.entries(serie.saisons).map(([seasonNum, season]) => `
                    <div class="card-season" onclick="selectSeason('${seasonNum}')">
                        <img src="${season.background}" alt="Saison ${seasonNum}" style="width:100%;height:100%;object-fit:cover;">
                        <div class="card-overlay">
                            <h3 class="card-title">Saison ${seasonNum}</h3>
                        </div>
                    </div>
                `).join('')}
            </div>
        </div>
    `;
}

function renderEpisodes() {
    const serie = data[currentSerie];
    const season = serie.saisons[currentSeason];
    app.innerHTML = `
        <div class="container">
            <h2 class="page-title">${serie.name} - Saison ${currentSeason}</h2>
            <div class="grid-episodes">
                ${Object.entries(season.episodes).map(([epNum, episode]) => {
                    const hasVF = episode.VF && episode.VF !== '';
                    const hasVOSTFR = episode.VOSTFR && episode.VOSTFR !== '';
                    const videoUrl = episode.VF || episode.VOSTFR || '';
                    
                    return `
                        <div class="card-episode" onclick="playEpisode('${epNum}')">
                            <div class="episode-thumb">
                                ${videoUrl ? `
                                    <video src="${videoUrl}#t=30" preload="metadata" muted class="episode-thumbnail-video"></video>
                                    <div class="episode-thumb-overlay"></div>
                                ` : ''}
                                <svg class="play-icon" viewBox="0 0 24 24" fill="currentColor">
                                    <path d="M8 5v14l11-7z"/>
                                </svg>
                                <div class="episode-number">EP ${epNum}</div>
                            </div>
                            <div class="episode-info">
                                <div class="episode-title">${episode.title || 'Épisode ' + epNum}</div>
                                <div class="episode-langs">
                                    ${hasVF ? '<span class="lang-badge lang-vf">VF</span>' : ''}
                                    ${hasVOSTFR ? '<span class="lang-badge lang-vostfr">VOSTFR</span>' : ''}
                                </div>
                            </div>
                        </div>
                    `;
                }).join('')}
            </div>
        </div>
    `;
}

function selectSerie(key) {
    currentSerie = key;
    currentView = 'seasons';
    renderView();
}

function selectSeason(num) {
    currentSeason = num;
    currentView = 'episodes';
    renderView();
}

function playEpisode(epNum) {
    currentEpisode = epNum;
    const episode = data[currentSerie].saisons[currentSeason].episodes[epNum];
    
    let videoUrl = episode[currentLanguage];
    if (!videoUrl || videoUrl === '') {
        videoUrl = episode.VF || episode.VOSTFR;
    }
    
    if (!videoUrl || videoUrl === '') {
        alert('Aucune version disponible');
        return;
    }
    
    video.src = videoUrl;
    downloadBtn.href = videoUrl;
    episodeMeta.textContent = `${data[currentSerie].name} - S${currentSeason}E${epNum} - ${episode.title || ''}`;
    
    currentView = 'player';
    renderView();
    video.play();
}

function playNextEpisode() {
    const episodes = data[currentSerie].saisons[currentSeason].episodes;
    const nextEp = String(parseInt(currentEpisode) + 1);
    if (episodes[nextEp]) {
        playEpisode(nextEp);
        nextEpisodeOverlay.classList.add('hidden');
    }
}

function showPlayer() {
    app.style.display = 'none';
    playerContainer.classList.remove('hidden');
}

function hidePlayer() {
    app.style.display = 'block';
    playerContainer.classList.add('hidden');
    langSelectorOverlay.classList.add('hidden');
    nextEpisodeOverlay.classList.add('hidden');
    video.pause();
    video.src = '';
}

function exitPlayer() {
    hidePlayer();
    currentView = 'episodes';
    renderView();
}

function goBack() {
    if (currentView === 'player') {
        exitPlayer();
    } else if (currentView === 'episodes') {
        currentView = 'seasons';
    } else if (currentView === 'seasons') {
        currentView = 'series';
    }
    renderView();
}

function goHome() {
    if (currentView === 'player') hidePlayer();
    currentView = 'series';
    currentSerie = null;
    currentSeason = null;
    currentEpisode = null;
    renderView();
}

function updateNavButtons() {
    backBtn.classList.toggle('hidden', currentView === 'series');
    langBtn.classList.toggle('hidden', currentView !== 'player' || currentSerie !== 'hazbin');
    langBtn.textContent = currentLanguage;
    
    // Afficher le bouton de sélection de langue seulement pour Hazbin Hotel
    if (langSelectorBtn && currentView === 'player' && currentSerie === 'hazbin') {
        langSelectorBtn.style.display = 'flex';
    } else if (langSelectorBtn) {
        langSelectorBtn.style.display = 'none';
    }
}

// ============= PLAYER CONTROLS =============
function togglePlay() {
    if (video.paused) video.play();
    else video.pause();
}

function updatePlayButton(isPlaying) {
    playIcon.classList.toggle('hidden', isPlaying);
    pauseIcon.classList.toggle('hidden', !isPlaying);
}

function toggleMute() {
    video.muted = !video.muted;
    volumeIcon.classList.toggle('hidden', video.muted);
    mutedIcon.classList.toggle('hidden', !video.muted);
}

function handleVolumeChange(e) {
    video.volume = e.target.value;
    video.muted = e.target.value == 0;
    volumeIcon.classList.toggle('hidden', video.muted);
    mutedIcon.classList.toggle('hidden', !video.muted);
}

function handleSeek(e) {
    const rect = timeline.getBoundingClientRect();
    const pos = (e.clientX - rect.left) / rect.width;
    video.currentTime = pos * video.duration;
}

function updateTimeline() {
    if (video.duration) {
        const percent = (video.currentTime / video.duration) * 100;
        timelineProgress.style.width = percent + '%';
        timeDisplay.textContent = formatTime(video.currentTime) + ' / ' + formatTime(video.duration);
    }
}

function updateDuration() {
    timeDisplay.textContent = '0:00 / ' + formatTime(video.duration);
}

function toggleFullscreen() {
    if (!document.fullscreenElement) {
        video.requestFullscreen().catch(err => console.log(err));
    } else {
        document.exitFullscreen();
    }
}

function handleVideoEnd() {
    const episodes = data[currentSerie].saisons[currentSeason].episodes;
    const nextEp = String(parseInt(currentEpisode) + 1);
    if (episodes[nextEp]) {
        nextEpisodeOverlay.classList.remove('hidden');
    }
}

function toggleLanguage() {
    currentLanguage = currentLanguage === 'VF' ? 'VOSTFR' : 'VF';
    localStorage.setItem('voxflix_lang', currentLanguage);
    langBtn.textContent = currentLanguage;
    
    const currentTime = video.currentTime;
    playEpisode(currentEpisode);
    video.currentTime = currentTime;
}

function openLangSelector() {
    const episode = data[currentSerie].saisons[currentSeason].episodes[currentEpisode];
    const hasVF = episode.VF && episode.VF !== '';
    const hasVOSTFR = episode.VOSTFR && episode.VOSTFR !== '';
    
    langOptions.innerHTML = `
        <div class="lang-option ${currentLanguage === 'VF' ? 'active' : ''} ${!hasVF ? 'disabled' : ''}" 
             ${hasVF ? 'onclick="selectLanguage(\'VF\')"' : ''}>
            <span style="font-weight: 600;">Version Française (VF)</span>
            <div>
                ${currentLanguage === 'VF' ? '<span style="color: var(--neon-cyan); font-size: 1.5rem;">✓</span>' : ''}
                ${!hasVF ? '<span style="font-size: 0.75rem; opacity: 0.5;">Non disponible</span>' : ''}
            </div>
        </div>
        <div class="lang-option ${currentLanguage === 'VOSTFR' ? 'active' : ''} ${!hasVOSTFR ? 'disabled' : ''}" 
             ${hasVOSTFR ? 'onclick="selectLanguage(\'VOSTFR\')"' : ''}>
            <span style="font-weight: 600;">Version Originale Sous-titrée (VOSTFR)</span>
            <div>
                ${currentLanguage === 'VOSTFR' ? '<span style="color: var(--neon-cyan); font-size: 1.5rem;">✓</span>' : ''}
                ${!hasVOSTFR ? '<span style="font-size: 0.75rem; opacity: 0.5;">Non disponible</span>' : ''}
            </div>
        </div>
    `;
    
    langSelectorOverlay.classList.remove('hidden');
}

function closeLangSelector() {
    langSelectorOverlay.classList.add('hidden');
}

function selectLanguage(lang) {
    if (currentLanguage === lang) {
        closeLangSelector();
        return;
    }
    
    const episode = data[currentSerie].saisons[currentSeason].episodes[currentEpisode];
    if (!episode[lang] || episode[lang] === '') {
        return;
    }
    
    currentLanguage = lang;
    localStorage.setItem('voxflix_lang', currentLanguage);
    langBtn.textContent = currentLanguage;
    
    const currentTime = video.currentTime;
    const wasPlaying = !video.paused;
    
    video.src = episode[lang];
    downloadBtn.href = episode[lang];
    
    video.addEventListener('loadedmetadata', function onLoaded() {
        video.currentTime = currentTime;
        if (wasPlaying) video.play();
        video.removeEventListener('loadedmetadata', onLoaded);
    });
    
    closeLangSelector();
}

function formatTime(seconds) {
    if (isNaN(seconds)) return '0:00';
    const mins = Math.floor(seconds / 60);
    const secs = Math.floor(seconds % 60);
    return mins + ':' + (secs < 10 ? '0' : '') + secs;
}

function handleKeyboard(e) {
    if (currentView !== 'player') return;
    if (e.code === 'Space') {
        e.preventDefault();
        togglePlay();
    } else if (e.code === 'ArrowRight') {
        e.preventDefault();
        video.currentTime += 10;
    } else if (e.code === 'ArrowLeft') {
        e.preventDefault();
        video.currentTime -= 10;
    }
}

// ============= START =============
init();
    </script>
</body>
</html>